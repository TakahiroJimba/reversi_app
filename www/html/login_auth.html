<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <meta http-equiv="Content-Security-Policy" content="default-src * reversiapp:; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'">
        <meta name="format-detection" content="telephone=no">
        <meta name="msapplication-tap-highlight" content="no">
        <meta name="viewport" content="initial-scale=1, width=device-width, viewport-fit=cover">
        <title>ログイン認証</title>
    </head>
    <body>
        <iframe id="iframe" src="http://127.0.0.1:8002/login/test/get_local_storage" style="display: none;"></iframe>
        <script>
        window.onload = function() {
          var iframe_window = document.querySelector('#iframe').contentWindow;
          var origin = 'http://127.0.0.1:8002';

          window.addEventListener('message', function(event) {
            // 送信元が指定のオリジンと一致していれば処理を行う
            if(event.origin === origin) {
              alert(event.data);
            }
          });
          // localStorageの値の取得を要求するメッセージ送信
          iframe_window.postMessage('get', origin);
        }
        </script>

        <script type="text/javascript" src="../cordova.js"></script>
        <script type="text/javascript" src="../js/Zepto/zepto.min.js"></script>
        <script type="text/javascript" src="../js/fastclick-master/lib/fastclick.js"></script>
        <script type="text/javascript" src="../js/common.js"></script>
    </body>
</html>
